<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analysing decisions in data analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-81e35ebdb4125010edbabe6010586085.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


<meta name="citation_title" content="Analysing decisions in data analysis">
<meta name="citation_author" content="H. Sherry Zhang">
<meta name="citation_author" content="Roger D. Peng">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Ellmer: Chat with large language models;,citation_author=Hadley Wickham;,citation_author=Joe Cheng;,citation_author=Aaron Jacobs;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_fulltext_html_url=https://CRAN.R-project.org/package=ellmer;">
<meta name="citation_reference" content="citation_title=The text-package: An r-package for analyzing and visualizing human language using natural language processing and deep learning;,citation_author=Oscar Kjell;,citation_author=Salvatore Giorgi;,citation_author=H. Andrew Schwartz;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://osf.io/preprints/psyarxiv/293kt/;,citation_doi=10.1037/met0000542;,citation_journal_title=Psychological Methods;">
<meta name="citation_reference" content="citation_title=Tidy Data;,citation_author=Hadley Wickham;,citation_publication_date=2014-09-12;,citation_cover_date=2014-09-12;,citation_year=2014;,citation_fulltext_html_url=https://doi.org/10.18637/jss.v059.i10;,citation_doi=10.18637/jss.v059.i10;,citation_volume=59;,citation_language=en;,citation_journal_title=Journal of Statistical Software;">
<meta name="citation_reference" content="citation_title=Hypothesis Formalization: Empirical Findings, Software Limitations, and Design Implications;,citation_author=Eunice Jun;,citation_author=Melissa Birchfield;,citation_author=Nicole De Moura;,citation_author=Jeffrey Heer;,citation_author=René Just;,citation_publication_date=2022-02-28;,citation_cover_date=2022-02-28;,citation_year=2022;,citation_fulltext_html_url=https://dl.acm.org/doi/10.1145/3476980;,citation_issue=1;,citation_doi=10.1145/3476980;,citation_volume=29;,citation_language=en;,citation_journal_title=ACM Transactions on Computer-Human Interaction;">
<meta name="citation_reference" content="citation_title=The statistical crisis in science;,citation_author=Andrew Gelman;,citation_author=Eric Loken;,citation_publication_date=2014-12;,citation_cover_date=2014-12;,citation_year=2014;,citation_fulltext_html_url=https://www.proquest.com/docview/1616141998/abstract/5E050DCE82414037PQ/1;,citation_issue=6;,citation_volume=102;,citation_language=en-US;,citation_journal_title=American Scientist;">
<meta name="citation_reference" content="citation_title=Declaring and Diagnosing Research Designs;,citation_author=Graeme Blair;,citation_author=Jasper Cooper;,citation_author=Alexander Coppock;,citation_author=Macartan Humphreys;,citation_publication_date=2019-08;,citation_cover_date=2019-08;,citation_year=2019;,citation_fulltext_html_url=https://www.cambridge.org/core/product/identifier/S0003055419000194/type/journal_article;,citation_issue=3;,citation_doi=10.1017/S0003055419000194;,citation_volume=113;,citation_language=en;,citation_journal_title=American Political Science Review;">
<meta name="citation_reference" content="citation_title=When Alternative Analyses of the Same Data Come to Different Conclusions: A Tutorial Using DeclareDesign With a Worked Real-World Example;,citation_author=Dorothy V. M. Bishop;,citation_author=Charles Hulme;,citation_publication_date=2024-07-01;,citation_cover_date=2024-07-01;,citation_year=2024;,citation_fulltext_html_url=https://doi.org/10.1177/25152459241267904;,citation_issue=3;,citation_doi=10.1177/25152459241267904;,citation_volume=7;,citation_language=en;,citation_journal_title=Advances in Methods and Practices in Psychological Science;">
<meta name="citation_reference" content="citation_title=CHI ’23: CHI Conference on Human Factors in Computing Systems;,citation_author=Xiaoying Pu;,citation_author=Matthew Kay;,citation_publication_date=2023-04-19;,citation_cover_date=2023-04-19;,citation_year=2023;,citation_fulltext_html_url=https://dl.acm.org/doi/10.1145/3544548.3580837;,citation_doi=10.1145/3544548.3580837;,citation_language=en;,citation_conference=ACM;">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Analysing decisions in data analysis</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Authors</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">H. Sherry Zhang </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        University of Texas at Austin
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Roger D. Peng </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        University of Texas at Austin
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      <div class="quarto-alternate-formats"><div class="quarto-title-meta-heading">Other Formats</div><div class="quarto-title-meta-contents"><p><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></p></div><div class="quarto-title-meta-contents"><p><a href="index-meca.zip" data-meca-link="true"><i class="bi bi-archive"></i>MECA Bundle</a></p></div></div></div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background"><span class="header-section-number">2</span> Background</a></li>
  <li><a href="#construct-decision-databases" id="toc-construct-decision-databases" class="nav-link" data-scroll-target="#construct-decision-databases"><span class="header-section-number">3</span> Construct decision databases</a>
  <ul class="collapse">
  <li><a href="#recording-decisions-in-data-analysis" id="toc-recording-decisions-in-data-analysis" class="nav-link" data-scroll-target="#recording-decisions-in-data-analysis"><span class="header-section-number">3.1</span> Recording decisions in data analysis</a></li>
  <li><a href="#austomatic-reading-of-literature-with-llm" id="toc-austomatic-reading-of-literature-with-llm" class="nav-link" data-scroll-target="#austomatic-reading-of-literature-with-llm"><span class="header-section-number">3.2</span> Austomatic reading of literature with LLM</a></li>
  <li><a href="#review-the-llm-output" id="toc-review-the-llm-output" class="nav-link" data-scroll-target="#review-the-llm-output"><span class="header-section-number">3.3</span> Review the LLM output</a>
  <ul class="collapse">
  <li><a href="#decision-quality-summary" id="toc-decision-quality-summary" class="nav-link" data-scroll-target="#decision-quality-summary"><span class="header-section-number">3.3.1</span> Decision quality summary</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#calculate-paper-similarity" id="toc-calculate-paper-similarity" class="nav-link" data-scroll-target="#calculate-paper-similarity"><span class="header-section-number">4</span> Calculate paper similarity</a></li>
  <li><a href="#applications" id="toc-applications" class="nav-link" data-scroll-target="#applications"><span class="header-section-number">5</span> Applications</a>
  <ul class="collapse">
  <li><a href="#air-pollution-mortality-modelling" id="toc-air-pollution-mortality-modelling" class="nav-link" data-scroll-target="#air-pollution-mortality-modelling"><span class="header-section-number">5.1</span> Air pollution mortality modelling</a></li>
  <li><a href="#species-distribution-modelling" id="toc-species-distribution-modelling" class="nav-link" data-scroll-target="#species-distribution-modelling"><span class="header-section-number">5.2</span> Species distribution modelling</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">6</span> Conclusion</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference"><span class="header-section-number">7</span> Reference</a></li>
  </ul>
<div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="appendix/appendix-preview.html"><i class="bi bi-journal-code"></i>Appendix to "Analysing decisions in data analysis"</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">



  


<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>In this work, we design a tabular format for record data analysis decisions to capture the reason and decisions, along with metadata, made during the data analysis. We create software tools to create and analyze the these data analysis decisions. We leverage the LLM model to automatically process existing literature to create the decision table. This allows us to survey decisions choices available in the literature, trace them across time, and compare and contract methodologies in the literature. Lastly, we deliver two decisions database in two domains: 1) modelling of daily mortality on pollution (PM10 or PM2.5) with Poisson Generalized Additive Model, and 2) …</p>
<p>Contribution:</p>
<ul>
<li><p>We provide a new mean to analyze decisions as analyzing data</p></li>
<li></li>
</ul>
</section>
<section id="background" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Background</h1>
<p>Data analysis as an complicated, iterative process to make sense [ref] of the scientific data collected.</p>
<ul>
<li><p>The iterative process of formulating hypothesis <span class="citation" data-cites="jun2022">Jun et al. (<a href="#ref-jun2022" role="doc-biblioref">2022</a>)</span></p></li>
<li><p>Analysts make choices on how to analyze the data on how to pre-processing variables, how to impute missing data, how to choose the degree of freedom for smoothing methods, choosing variables to include in the model, choose temporal lags in the model, etc. This leads to the garden of forking paths <span class="citation" data-cites="gelman2014">Gelman and Loken (<a href="#ref-gelman2014" role="doc-biblioref">2014</a>)</span></p></li>
<li><p>When these choices are not exercised based on scientific rigorous and sincere intention, it hinders the statistical analysis of evidence/data to trust scientific discovery:</p>
<ul>
<li><p>p-hacking and research degree of freedom</p></li>
<li><p>variation of results by analytic choices in the same research question formulation <span class="citation" data-cites="silberzahn2018many">(<a href="#ref-silberzahn2018many" role="doc-biblioref"><strong>silberzahn2018many?</strong></a>)</span> and many more</p></li>
<li><p>fairness of the algorithms that affect day-to-day life</p></li>
</ul></li>
</ul>
<p>Solutions:</p>
<ul>
<li><p>Advocate of guidelines and recommendation for practical data analysis</p>
<ul>
<li>pre-registration</li>
<li><span class="citation" data-cites="wicherts2016degrees">(<a href="#ref-wicherts2016degrees" role="doc-biblioref"><strong>wicherts2016degrees?</strong></a>)</span> provides a checklist of researcher degrees of freedom to combat the “garden of forking paths” problem</li>
<li>false-positive psychology suggests 6 guidelines for reporting data analysis to prevent false-positive rate</li>
</ul></li>
<li><p>Create software tools to help analysts making better decisions:</p>
<ul>
<li>The python package Tisane <span class="citation" data-cites="jun2022">(<a href="#ref-jun2022" role="doc-biblioref">Jun et al. 2022</a>)</span> integrates conceptual idea (diagram like DAG, group/ cluster/ hierarchical structure) to help junior researchers to construct GLM/ GLMM model</li>
<li><code>multiverse</code></li>
<li><code>DeclareDesign</code> <span class="citation" data-cites="blair2019">Blair et al. (<a href="#ref-blair2019" role="doc-biblioref">2019</a>)</span> proposes the MIDA framework for researchers to declare-diagnose-redesign their analysis to produce a distribution, rather than a single value, of the statistic of interest. It has been applied on randomized controlled trial experiment by <span class="citation" data-cites="bishop2024">Bishop and Hulme (<a href="#ref-bishop2024" role="doc-biblioref">2024</a>)</span></li>
</ul></li>
<li><p>Study decisions in data analysis:</p>
<ul>
<li>an interview/ participatory method: <span class="citation" data-cites="simson">(<a href="#ref-simson" role="doc-biblioref"><strong>simson?</strong></a>)</span>, many others</li>
<li>(automated) visualization of decisions made in data analysis:
<ul>
<li>datamation <span class="citation" data-cites="pu2023">(<a href="#ref-pu2023" role="doc-biblioref">Pu and Kay 2023</a>)</span>,</li>
<li><span class="citation" data-cites="liu2020paths">(<a href="#ref-liu2020paths" role="doc-biblioref"><strong>liu2020paths?</strong></a>)</span> uses Analytic Decision Graphs (ADG) to represent high-level decision process in data analysis.</li>
<li><a href="https://arxiv.org/pdf/2306.07760">Urania: Visualizing Data Analysis Pipelines for Natural Language-Based Data Exploration</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="construct-decision-databases" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Construct decision databases</h1>
<section id="recording-decisions-in-data-analysis" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="recording-decisions-in-data-analysis"><span class="header-section-number">3.1</span> Recording decisions in data analysis</h2>
<ul>
<li>give example from extracting decision from sentences of a paper</li>
<li>adapt from the tidy data principle <span class="citation" data-cites="tidydata">(<a href="#ref-tidydata" role="doc-biblioref"><strong>tidydata?</strong></a>)</span>, each row is a decision <span class="citation" data-cites="wickham2014">Wickham (<a href="#ref-wickham2014" role="doc-biblioref">2014</a>)</span><br>
</li>
<li>some decisions are related to how the variable is estimated spatially and temporally</li>
<li>model level decisions on how the model is estimated spatially (for multi-site analyses) and/or temporally (different treatments for years or seasons)</li>
<li>sometimes the decisions are not explicitly stated in the paper (use AIC to choose the degree of freedom in a smoothing spline)</li>
<li>sometimes the reason is not explicitly stated (e.g., why 3 degree of freedom)</li>
</ul>
<p>A hypothetical database of decisions may look as follows:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th>Paper</th>
<th>ID</th>
<th>Model</th>
<th>variable</th>
<th>method</th>
<th>parameter</th>
<th>type</th>
<th>reason</th>
<th>decision</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ostro</td>
<td>1</td>
<td>Poisson regression</td>
<td>temperature</td>
<td>smoothing spline</td>
<td>degree of freedom</td>
<td>parameter</td>
<td>NA</td>
<td>3 degree of freedom</td>
</tr>
<tr class="even">
<td>ostro</td>
<td>2</td>
<td>Poisson regression</td>
<td>temperature</td>
<td>smoothing spline</td>
<td>degree of freedom</td>
<td>temporal</td>
<td>NA</td>
<td>1-day lag</td>
</tr>
<tr class="odd">
<td>ostro</td>
<td>3</td>
<td>Poisson regression</td>
<td>relative humidity</td>
<td>LOESS</td>
<td>smoothing parameter</td>
<td>parameter</td>
<td>to minimize Akaike’s Information Criterion</td>
<td>NA</td>
</tr>
<tr class="even">
<td>ostro</td>
<td>4</td>
<td>Poisson regression</td>
<td>model</td>
<td>NA</td>
<td>NA</td>
<td>spatial</td>
<td>to account for variation among cities</td>
<td>separate regression models fit in each city</td>
</tr>
</tbody>
</table>
</section>
<section id="austomatic-reading-of-literature-with-llm" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="austomatic-reading-of-literature-with-llm"><span class="header-section-number">3.2</span> Austomatic reading of literature with LLM</h2>
<ul>
<li>We use LLM to automatic read the paper through the <code>ellmer</code> package <span class="citation" data-cites="ellmer">(<a href="#ref-ellmer" role="doc-biblioref">Wickham, Cheng, and Jacobs 2025</a>)</span> and manually review the decision outputs. Both Antropic Claude and Google Gemini accept pdf inputs and we choose Claude. The prompt used to finetune the Claude LLM is available in the appendix.</li>
</ul>
</section>
<section id="review-the-llm-output" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="review-the-llm-output"><span class="header-section-number">3.3</span> Review the LLM output</h2>
<p>(the shiny app)</p>
<ul>
<li>screenshot of the interface</li>
<li>The current application includes three actions:
<ul>
<li>modify a row (<code>dplyr::mutate(xxx = ifelse(CONDITION, "yyy" , xxx))</code>),</li>
<li>delete unrelated decisions (<code>dplyr::filter(!(CONDITION))</code>), and</li>
<li>manually add a decision (<code>dplyr::bind_rows()</code>)</li>
</ul></li>
<li>All the actions will generate the corresponding codes.</li>
<li>The download button will download the modified decision database as a csv file</li>
</ul>
<section id="decision-quality-summary" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="decision-quality-summary"><span class="header-section-number">3.3.1</span> Decision quality summary</h3>
</section>
</section>
</section>
<section id="calculate-paper-similarity" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Calculate paper similarity</h1>
<ul>
<li>pre-processing
<ul>
<li>standardize statistical methods its corresponding parameters (LOESS, smoothing spline, etc)</li>
<li>group variables into broader categories: time, temperature, humidity, PM</li>
</ul></li>
<li>identify the most frequent analysis decisions across papers</li>
<li>retain only papers that report more than x such decisions</li>
<li>measure similarity between decisions and their justificaiton using NLP
<ul>
<li>word embedding with attention mechanism, instead of bag of word,</li>
<li>specific NLP models (default to <code>bert-base-uncased</code>), aggregation methods from word to text</li>
</ul></li>
<li>compute paper similarity score for each paper pair by aggregating decision-level compoarisons
<ul>
<li>check/ report on the number of decisions compared in each paper pair</li>
</ul></li>
<li>similarity score can serve as the distance matrix to cluster papers by their similarity on decision choices</li>
</ul>
</section>
<section id="applications" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Applications</h1>
<section id="air-pollution-mortality-modelling" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="air-pollution-mortality-modelling"><span class="header-section-number">5.1</span> Air pollution mortality modelling</h2>
<ul>
<li>look at for one type of decision (time) - what are the choices made by different papers</li>
<li>look at whether decisions changes across time</li>
<li>Visualize the decision database: apply clustering algorithm and visualize the database through <code>sigma.js</code></li>
</ul>
</section>
<section id="species-distribution-modelling" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="species-distribution-modelling"><span class="header-section-number">5.2</span> Species distribution modelling</h2>
</section>
</section>
<section id="conclusion" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Conclusion</h1>
</section>
<section id="reference" class="level1 unnumbered" data-number="7">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">7 Reference</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-bishop2024" class="csl-entry" role="listitem">
Bishop, Dorothy V. M., and Charles Hulme. 2024. <span>“When Alternative Analyses of the Same Data Come to Different Conclusions: A Tutorial Using DeclareDesign With a Worked Real-World Example.”</span> <em>Advances in Methods and Practices in Psychological Science</em> 7 (3): 25152459241267904. <a href="https://doi.org/10.1177/25152459241267904">https://doi.org/10.1177/25152459241267904</a>.
</div>
<div id="ref-blair2019" class="csl-entry" role="listitem">
Blair, Graeme, Jasper Cooper, Alexander Coppock, and Macartan Humphreys. 2019. <span>“Declaring and Diagnosing Research Designs.”</span> <em>American Political Science Review</em> 113 (3): 838–59. <a href="https://doi.org/10.1017/S0003055419000194">https://doi.org/10.1017/S0003055419000194</a>.
</div>
<div id="ref-gelman2014" class="csl-entry" role="listitem">
Gelman, Andrew, and Eric Loken. 2014. <span>“The Statistical Crisis in Science.”</span> <em>American Scientist</em> 102 (6): 460–65. <a href="https://www.proquest.com/docview/1616141998/abstract/5E050DCE82414037PQ/1">https://www.proquest.com/docview/1616141998/abstract/5E050DCE82414037PQ/1</a>.
</div>
<div id="ref-jun2022" class="csl-entry" role="listitem">
Jun, Eunice, Melissa Birchfield, Nicole De Moura, Jeffrey Heer, and René Just. 2022. <span>“Hypothesis Formalization: Empirical Findings, Software Limitations, and Design Implications.”</span> <em>ACM Transactions on Computer-Human Interaction</em> 29 (1): 1–28. <a href="https://doi.org/10.1145/3476980">https://doi.org/10.1145/3476980</a>.
</div>
<div id="ref-pu2023" class="csl-entry" role="listitem">
Pu, Xiaoying, and Matthew Kay. 2023. <span>“CHI ’23: CHI Conference on Human Factors in Computing Systems.”</span> In, 1–22. Hamburg Germany: ACM. <a href="https://doi.org/10.1145/3544548.3580837">https://doi.org/10.1145/3544548.3580837</a>.
</div>
<div id="ref-wickham2014" class="csl-entry" role="listitem">
Wickham, Hadley. 2014. <span>“Tidy Data.”</span> <em>Journal of Statistical Software</em> 59 (September): 1–23. <a href="https://doi.org/10.18637/jss.v059.i10">https://doi.org/10.18637/jss.v059.i10</a>.
</div>
<div id="ref-ellmer" class="csl-entry" role="listitem">
Wickham, Hadley, Joe Cheng, and Aaron Jacobs. 2025. <em>Ellmer: Chat with Large Language Models</em>. <a href="https://CRAN.R-project.org/package=ellmer">https://CRAN.R-project.org/package=ellmer</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>